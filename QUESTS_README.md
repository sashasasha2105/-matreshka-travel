# –°–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π –ú–∞—Ç—Ä–µ—à–∫–∞ üéØ

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò–≥—Ä–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—É–ø–æ–Ω—ã –∑–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –≤ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü–æ—è–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π
- –ó–∞–¥–∞–Ω–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è **–ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏** –ø–∞–∫–µ—Ç–∞ —Ä–µ–≥–∏–æ–Ω–∞
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–æ **3 –∑–∞–¥–∞–Ω–∏–π** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
- –ó–∞–¥–∞–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–ó–∞–¥–∞–Ω–∏—è" –≤ –Ω–∏–∂–Ω–µ–º –º–µ–Ω—é

### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç –ø–∞–∫–µ—Ç —Ä–µ–≥–∏–æ–Ω–∞
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª "–ó–∞–¥–∞–Ω–∏—è" üéØ
3. –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
4. –í—ã–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"
5. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
6. –ü–æ–ª—É—á–∞–µ—Ç **50-70 –∫—É–ø–æ–Ω–æ–≤** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞–Ω–∏—è

### 3. –ù–∞–≥—Ä–∞–¥—ã
- **–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤ —Ä–µ–≥–∏–æ–Ω–µ**: +50 –∫—É–ø–æ–Ω–æ–≤
- **–í—Ç–æ—Ä–æ–µ –∑–∞–¥–∞–Ω–∏–µ**: +60 –∫—É–ø–æ–Ω–æ–≤
- **–¢—Ä–µ—Ç—å–µ –∑–∞–¥–∞–Ω–∏–µ**: +70 –∫—É–ø–æ–Ω–æ–≤
- –ö—É–ø–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—å

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã
```
quests/
‚îú‚îÄ‚îÄ quests.css          # –°—Ç–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞–¥–∞–Ω–∏–π
‚îî‚îÄ‚îÄ quests.js           # –õ–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∑–∞–¥–∞–Ω–∏–π
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `matreshka_completed_quests` - —Å–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π (ID)
- `quest_photo_{questId}` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∑–∞–¥–∞–Ω–∏—è –≤ Base64
- `quest_date_{questId}` - –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
- `userCoupons` - –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –∫—É–ø–æ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### –í index.html
```html
<!-- CSS -->
<link rel="stylesheet" href="quests/quests.css">

<!-- JS -->
<script src="quests/quests.js"></script>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<button class="nav-item" onclick="showQuests()">
    <div class="nav-icon">üéØ</div>
    <div class="nav-label">–ó–∞–¥–∞–Ω–∏—è</div>
</button>
```

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
```javascript
window.matryoshkaQuests = {
    render(),                          // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∑–∞–¥–∞–Ω–∏–π
    openPhotoUpload(questId),          // –û—Ç–∫—Ä—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
    submitPhoto(),                     // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ
    closePhotoUpload(),                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
    updateQuestsBadge()                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
}
```

## –§—É–Ω–∫—Ü–∏–∏

### showQuests()
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª –∑–∞–¥–∞–Ω–∏–π
```javascript
showQuests(); // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è
```

### hideQuests()
–ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª –∑–∞–¥–∞–Ω–∏–π
```javascript
hideQuests(); // –°–∫—Ä—ã—Ç—å –∑–∞–¥–∞–Ω–∏—è
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
–ó–∞–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- –û–ø–ª–∞—á–µ–Ω–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ (`window.paidRegions`)
- –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Ä–µ–≥–∏–æ–Ω–∞ –∏–∑ `RUSSIA_REGIONS_DATA`

### –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞–Ω–∏–π
- **available** - –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **completed** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- **locked** - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ (—Ä–µ–≥–∏–æ–Ω –Ω–µ –æ–ø–ª–∞—á–µ–Ω)

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ
- –¢–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPG, PNG)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5MB
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

### Drag & Drop
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ –∑–æ–Ω—É –∑–∞–≥—Ä—É–∑–∫–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
```javascript
const availableQuests = window.matryoshkaQuests.quests.filter(
    q => q.status === 'available'
).length;
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫—É–ø–æ–Ω–æ–≤
```javascript
const coupons = localStorage.getItem('userCoupons') || '0';
console.log(`–ö—É–ø–æ–Ω–æ–≤: ${coupons}`);
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ —Ä–µ–≥–∏–æ–Ω–∞
```javascript
// –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ —Ä–µ–≥–∏–æ–Ω–∞
markRegionAsPaid(regionId);

// –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–¥–∞–Ω–∏—è
window.matryoshkaQuests.render();
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
```javascript
// 1. –ö—É–ø–∏—Ç—å —Ä–µ–≥–∏–æ–Ω
demoPurchase();

// 2. –û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞–Ω–∏—è
showQuests();

// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ—è–≤–∏–ª–∏—Å—å
console.log(window.matryoshkaQuests.quests);
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
```javascript
// 1. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
window.matryoshkaQuests.openPhotoUpload('moscow_0');

// 2. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª (—á–µ—Ä–µ–∑ UI)

// 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
window.matryoshkaQuests.submitPhoto();
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–∏–ª–µ–º

–°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```javascript
// –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
if (window.matryoshkaProfile) {
    window.matryoshkaProfile.updateCoupons();
}
```

## –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- Touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Ñ–æ—Ç–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ localStorage
- –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
