# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ Graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª `matreshka_bot.log`
- ‚úÖ –°–æ–∑–¥–∞–Ω `Dockerfile` –¥–ª—è Docker
- ‚úÖ –°–æ–∑–¥–∞–Ω `Procfile` –¥–ª—è Heroku
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ `DEPLOY_GUIDE.md`

**–§–∞–π–ª—ã:**
- `bot.py` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç
- `Dockerfile` - –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `Procfile` - –¥–ª—è Heroku
- `DEPLOY_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω connection pool –¥–æ 8 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã (30 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ NetworkError –∏ TimedOut
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

### 3. –ò–∫–æ–Ω–∫–∞ –∑–∞–¥–∞–Ω–∏–π –≤ –º–µ–Ω—é
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üéØ –ó–∞–¥–∞–Ω–∏—è" –≤ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é
- ‚úÖ –ë–µ–π–¥–∂ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `index.html:206-221`

### 4. –°–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ —Ä–µ–≥–∏–æ–Ω–∞
- ‚úÖ –î–æ 3 –∑–∞–¥–∞–Ω–∏–π –Ω–∞ —Ä–µ–≥–∏–æ–Ω
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- ‚úÖ Drag & Drop –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ 5MB)

**–§–∞–π–ª—ã:**
- `quests/quests.css` - —Å—Ç–∏–ª–∏
- `quests/quests.js` - –ª–æ–≥–∏–∫–∞
- `QUESTS_README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 5. –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ 50-70 –∫—É–ø–æ–Ω–æ–≤ –∑–∞ –∑–∞–¥–∞–Ω–∏–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–∏–ª–µ–º
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ localStorage
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### 6. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- ‚úÖ –ó–æ–Ω–∞ drag & drop
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ transitions

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ 24/7

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞)
```bash
python bot.py
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker
```bash
docker build -t matreshka-bot .
docker run -d --name matreshka --restart always matreshka-bot
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: VPS (Ubuntu/Debian)
```bash
# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ DEPLOY_GUIDE.md
sudo systemctl start matreshka-bot
sudo systemctl status matreshka-bot
```

#### –í–∞—Ä–∏–∞–Ω—Ç 4: Heroku
```bash
heroku login
heroku create matreshka-bot
git push heroku main
heroku ps:scale worker=1
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç –ø–∞–∫–µ—Ç —Ä–µ–≥–∏–æ–Ω–∞:**
   ```javascript
   demoPurchase(); // –ò–ª–∏ —á–µ—Ä–µ–∑ UI
   ```

2. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª –∑–∞–¥–∞–Ω–∏–π:**
   - –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∏–∫–æ–Ω–∫—É üéØ "–ó–∞–¥–∞–Ω–∏—è" –≤ –Ω–∏–∂–Ω–µ–º –º–µ–Ω—é

3. **–í–∏–¥–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:**
   - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
   - –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

4. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ:**
   - –ù–∞–∂–∏–º–∞–µ—Ç "üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"
   - –í—ã–±–∏—Ä–∞–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ

5. **–ü–æ–ª—É—á–∞–µ—Ç –∫—É–ø–æ–Ω—ã:**
   - +50-70 –∫—É–ø–æ–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –≤ –ø—Ä–æ—Ñ–∏–ª–µ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PythonProject20/
‚îú‚îÄ‚îÄ bot.py                    # Telegram –±–æ—Ç (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
‚îú‚îÄ‚îÄ Dockerfile                # Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îú‚îÄ‚îÄ Procfile                  # Heroku –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ DEPLOY_GUIDE.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ QUESTS_README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π
‚îú‚îÄ‚îÄ SUMMARY.md               # –≠—Ç–∞ —Å–≤–æ–¥–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ quests/                  # –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ quests.css           # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ quests.js            # –õ–æ–≥–∏–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ index.html               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
‚îú‚îÄ‚îÄ script.js                # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ style.css                # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ
‚îî‚îÄ‚îÄ [–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞]
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
- `matreshka_completed_quests` - –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- `quest_photo_{id}` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–¥–∞–Ω–∏–π
- `quest_date_{id}` - –¥–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `userCoupons` - –±–∞–ª–∞–Ω—Å –∫—É–ø–æ–Ω–æ–≤
- `paidRegions` - –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã

### API
```javascript
// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –∑–∞–¥–∞–Ω–∏–π
window.matryoshkaQuests = {
    render(),                    // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è
    openPhotoUpload(questId),    // –û—Ç–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
    submitPhoto(),               // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
    closePhotoUpload(),          // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É
    updateQuestsBadge()          // –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫
}

// –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
showQuests();  // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è
hideQuests();  // –°–∫—Ä—ã—Ç—å –∑–∞–¥–∞–Ω–∏—è
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ Web App –≤ Telegram
3. –ö—É–ø–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–¥–µ–º–æ-–∫–Ω–æ–ø–∫–∞)
4. –û—Ç–∫—Ä–æ–π—Ç–µ "–ó–∞–¥–∞–Ω–∏—è"
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ

### –î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
1. –°–ª–µ–¥—É–π—Ç–µ `DEPLOY_GUIDE.md`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (VPS, Heroku, Docker)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
4. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏

## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Connection pool: 8 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –¢–∞–π–º–∞—É—Ç—ã: 30 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- Graceful shutdown

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (—Ç–∏–ø, —Ä–∞–∑–º–µ—Ä)
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### UX/UI
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- Drag & Drop
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ 24/7
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
- –ö—É–ø–æ–Ω—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Base64

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
1. ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π –±–æ—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π 24/7
2. ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
3. ‚úÖ –ò–≥—Ä–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π
4. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
5. ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤
6. ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
